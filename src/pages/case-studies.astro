---
import BaseLayout from '../layouts/BaseLayout.astro';
import { Icon } from 'astro-icon/components';

export const prerender = true;

// Case studies data - replace with actual customer stories
const caseStudies = [
  {
    id: 'airline-transformation',
    title: 'Digital Transformation for a Major European Airline',
    industry: 'Full-Service Carrier',
    region: 'Europe',
    challenge: 'Legacy PNR systems limiting ability to offer personalized ancillaries and dynamic pricing.',
    solution: 'Implemented Retailaer Connect platform with full NDC integration and dynamic offer engine.',
    results: [
      { metric: '23%', label: 'Increase in ancillary revenue' },
      { metric: '15%', label: 'Higher conversion rate' },
      { metric: '40%', label: 'Reduction in booking abandonment' },
    ],
    quote: {
      text: 'Retailaer helped us modernize our retailing approach without disrupting our existing operations.',
      author: 'Chief Commercial Officer',
      company: 'European Airline'
    },
    featured: true
  },
  {
    id: 'low-cost-carrier',
    title: 'Scaling Ancillary Sales for a Growing LCC',
    industry: 'Low-Cost Carrier',
    region: 'Asia Pacific',
    challenge: 'Needed to maximize ancillary revenue while maintaining simple, fast booking experience.',
    solution: 'Deployed dynamic bundling and personalized offer presentation across all channels.',
    results: [
      { metric: '35%', label: 'Increase in average order value' },
      { metric: '50%', label: 'More ancillaries per booking' },
      { metric: '8s', label: 'Average offer response time' },
    ],
    quote: {
      text: 'The platform scaled effortlessly as we expanded to new markets.',
      author: 'VP Digital',
      company: 'Asia Pacific LCC'
    },
    featured: true
  },
  {
    id: 'payment-optimization',
    title: 'Payment Orchestration for Global Airline Group',
    industry: 'Airline Group',
    region: 'Global',
    challenge: 'Complex payment landscape across multiple brands and regions causing high failure rates.',
    solution: 'Implemented unified payment orchestration with intelligent routing and fallback logic.',
    results: [
      { metric: '12%', label: 'Reduction in payment failures' },
      { metric: 'â‚¬2.1M', label: 'Annual savings in processing fees' },
      { metric: '99.9%', label: 'Payment uptime achieved' },
    ],
    quote: {
      text: 'Finally, payments that our CFO actually likes.',
      author: 'Head of Payments',
      company: 'Global Airline Group'
    },
    featured: false
  }
];

const featuredStudies = caseStudies.filter(cs => cs.featured);
const otherStudies = caseStudies.filter(cs => !cs.featured);
---

<BaseLayout
  title="Case Studies - Customer Success Stories | Retailaer"
  description="See how leading airlines are transforming their retailing with Retailaer's Offer and Order Management platform."
>
  <!-- Hero Section -->
  <section class="page-hero hero-bright">
    <div class="container">
      <h1 class="page-title">Customer Success Stories</h1>
      <p class="page-subtitle">
        See how airlines around the world are transforming their<br>
        retailing strategy with Retailaer.
      </p>
    </div>
  </section>

  <!-- Stats Banner -->
  <section class="stats-banner">
    <div class="container">
      <div class="stats-row">
        <div class="stat-item">
          <div class="stat-number">204M+</div>
          <div class="stat-label">Orders Processed</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">12+</div>
          <div class="stat-label">Years of Experience</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">300+</div>
          <div class="stat-label">Platform Capabilities</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Case Studies -->
  <section class="section">
    <div class="container">
      <div class="section-header">
        <h2>Featured Success Stories</h2>
      </div>

      <div class="case-studies-featured">
        {featuredStudies.map((study) => (
          <article class="case-study-card featured">
            <div class="case-study-header">
              <div class="case-study-meta">
                <span class="badge">{study.industry}</span>
                <span class="region">{study.region}</span>
              </div>
              <h3>{study.title}</h3>
            </div>

            <div class="case-study-body">
              <div class="challenge-solution">
                <div class="cs-block">
                  <h4>
                    <Icon name="lucide:alert-circle" />
                    Challenge
                  </h4>
                  <p>{study.challenge}</p>
                </div>
                <div class="cs-block">
                  <h4>
                    <Icon name="lucide:check-circle" />
                    Solution
                  </h4>
                  <p>{study.solution}</p>
                </div>
              </div>

              <div class="results-grid">
                {study.results.map((result) => (
                  <div class="result-item">
                    <div class="result-metric">{result.metric}</div>
                    <div class="result-label">{result.label}</div>
                  </div>
                ))}
              </div>

              {study.quote && (
                <blockquote class="testimonial">
                  <p>"{study.quote.text}"</p>
                  <footer>
                    <strong>{study.quote.author}</strong>
                    <span>{study.quote.company}</span>
                  </footer>
                </blockquote>
              )}
            </div>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- Other Case Studies -->
  {otherStudies.length > 0 && (
    <section class="section section-alt">
      <div class="container">
        <div class="section-header">
          <h2>More Success Stories</h2>
        </div>

        <div class="case-studies-grid">
          {otherStudies.map((study) => (
            <article class="case-study-card">
              <div class="case-study-meta">
                <span class="badge">{study.industry}</span>
                <span class="region">{study.region}</span>
              </div>
              <h3>{study.title}</h3>
              <p class="challenge">{study.challenge}</p>
              <div class="results-mini">
                {study.results.slice(0, 2).map((result) => (
                  <div class="result-mini">
                    <strong>{result.metric}</strong> {result.label}
                  </div>
                ))}
              </div>
            </article>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- CTA Section -->
  <section class="section cta-section">
    <div class="container">
      <div class="cta-content">
        <h2>Ready to Write Your Success Story?</h2>
        <p>
          Join the airlines transforming their retailing with Retailaer.
          Let's discuss how we can help you achieve similar results.
        </p>
        <a href="/contact" class="btn btn-primary btn-lg">Get in Touch</a>
      </div>
    </div>
  </section>

  <style>
    .stats-banner {
      background: var(--theme-primary);
      color: white;
      padding: 3rem 0;
    }

    .stats-row {
      display: flex;
      justify-content: center;
      gap: 4rem;
      flex-wrap: wrap;
    }

    .stat-item {
      text-align: center;
    }

    .stat-number {
      font-size: 3rem;
      font-weight: 700;
      line-height: 1;
      margin-bottom: 0.5rem;
    }

    .stat-label {
      font-size: 1rem;
      opacity: 0.9;
    }

    .case-studies-featured {
      display: flex;
      flex-direction: column;
      gap: 3rem;
    }

    .case-study-card {
      background: white;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      overflow: hidden;
    }

    .case-study-card.featured {
      border: 2px solid var(--theme-accent);
    }

    .case-study-header {
      background: linear-gradient(135deg, var(--theme-primary) 0%, #084a4f 100%);
      color: white;
      padding: 2rem;
    }

    .case-study-meta {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
      align-items: center;
    }

    .badge {
      background: rgba(255, 255, 255, 0.2);
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.8125rem;
      font-weight: 500;
    }

    .region {
      font-size: 0.875rem;
      opacity: 0.9;
    }

    .case-study-header h3 {
      font-size: 1.75rem;
      font-weight: 600;
      margin: 0;
      line-height: 1.3;
    }

    .case-study-body {
      padding: 2rem;
    }

    .challenge-solution {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin-bottom: 2rem;
    }

    .cs-block h4 {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 1rem;
      font-weight: 600;
      color: var(--theme-primary);
      margin-bottom: 0.75rem;
    }

    .cs-block h4 [data-icon] {
      width: 20px;
      height: 20px;
    }

    .cs-block p {
      color: var(--theme-text-secondary);
      line-height: 1.6;
      margin: 0;
    }

    .results-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1.5rem;
      padding: 1.5rem;
      background: var(--theme-bg-alt, #f8fafa);
      border-radius: 12px;
      margin-bottom: 2rem;
    }

    .result-item {
      text-align: center;
    }

    .result-metric {
      font-size: 2.25rem;
      font-weight: 700;
      color: var(--theme-primary);
      line-height: 1;
      margin-bottom: 0.5rem;
    }

    .result-label {
      font-size: 0.875rem;
      color: var(--theme-text-secondary);
    }

    .testimonial {
      background: var(--theme-primary);
      color: white;
      padding: 1.5rem 2rem;
      border-radius: 12px;
      margin: 0;
    }

    .testimonial p {
      font-size: 1.125rem;
      font-style: italic;
      line-height: 1.6;
      margin: 0 0 1rem;
    }

    .testimonial footer {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .testimonial footer strong {
      font-size: 0.9375rem;
    }

    .testimonial footer span {
      font-size: 0.875rem;
      opacity: 0.8;
    }

    .case-studies-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
    }

    .case-studies-grid .case-study-card {
      padding: 2rem;
    }

    .case-studies-grid .case-study-meta {
      margin-bottom: 1rem;
    }

    .case-studies-grid .badge {
      background: var(--theme-bg-alt, #f0f7f7);
      color: var(--theme-primary);
    }

    .case-studies-grid h3 {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--theme-text-primary);
      margin-bottom: 1rem;
    }

    .challenge {
      color: var(--theme-text-secondary);
      line-height: 1.6;
      margin-bottom: 1.5rem;
    }

    .results-mini {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .result-mini {
      font-size: 0.9375rem;
      color: var(--theme-text-secondary);
    }

    .result-mini strong {
      color: var(--theme-primary);
      font-weight: 700;
    }

    .cta-section {
      background: linear-gradient(135deg, var(--theme-primary) 0%, #084a4f 100%);
      color: white;
    }

    .cta-content {
      text-align: center;
      max-width: 600px;
      margin: 0 auto;
    }

    .cta-content h2 {
      font-size: 2.25rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: white;
    }

    .cta-content p {
      font-size: 1.125rem;
      opacity: 0.9;
      margin-bottom: 2rem;
      line-height: 1.6;
    }

    .btn-lg {
      padding: 1rem 2.5rem;
      font-size: 1.125rem;
    }

    @media (max-width: 768px) {
      .stats-row {
        gap: 2rem;
      }

      .stat-number {
        font-size: 2.25rem;
      }

      .challenge-solution {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .results-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .case-study-header h3 {
        font-size: 1.375rem;
      }

      .cta-content h2 {
        font-size: 1.75rem;
      }
    }
  </style>
</BaseLayout>
