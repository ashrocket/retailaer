---
import BaseLayout from '../layouts/BaseLayout.astro';
import ExpandableFeatureCards from '../components/ExpandableFeatureCards.astro';
import InsightsCarousel from '../components/InsightsCarousel.astro';

// Enable editing for this page
const filePath = 'src/pages/index.astro';

// Sample insights data - TODO: Load from database
const insights = [
  {
    id: '1',
    slug: 'dynamic-offers-ndc',
    title: 'Modular in Travel Technology',
    excerpt: 'Understanding the meaning of "modular" in travel tech - it\'s not just about IKEA kitchens anymore.',
    meta: 'LINKEDIN POST',
    icon: 'rocket',
    backgroundGradient: 'linear-gradient(135deg, #FFF5E6 0%, #FFE4CC 100%)'
  },
  {
    id: '2',
    slug: 'orders-without-friction',
    title: 'Orders without friction',
    excerpt: 'Streamlining the booking experience while maximizing ancillary opportunities.',
    meta: 'ARTICLE',
    icon: 'document',
    backgroundGradient: 'linear-gradient(135deg, #FFF9E6 0%, #FFEDB3 100%)'
  },
  {
    id: '3',
    slug: 'payments-cfo-likes',
    title: 'Payments your CFO likes',
    excerpt: 'Everything from payments to payouts with ease—secure, reliable, and fully compliant.',
    meta: 'REPORT',
    icon: 'chart',
    backgroundGradient: 'linear-gradient(135deg, #E6F7FF 0%, #CCE7FF 100%)'
  },
  {
    id: '4',
    slug: 'customer-first-retailing',
    title: 'The customer-first revolution',
    excerpt: 'Putting customers at the center transforms your airline retailing strategy and boosts revenue.',
    meta: 'BLOG POST',
    icon: 'globe',
    backgroundGradient: 'linear-gradient(135deg, #F0F7F7 0%, #D9ECEC 100%)'
  },
  {
    id: '5',
    slug: 'beyond-the-pnr',
    title: 'Beyond the PNR',
    excerpt: 'Why traditional PNR systems hold airlines back and how modern order management unlocks opportunities.',
    meta: 'GUIDE',
    icon: 'rocket',
    backgroundGradient: 'linear-gradient(135deg, #F5E6FF 0%, #E6CCFF 100%)'
  },
];
---

<BaseLayout title="Retailaer – Modern Offer & Order. Real Revenue Lift." filePath={filePath}>
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="container">
      <div class="hero-content">
        <h1 class="hero-title">
          Modern Offer<br>
          & Order.<br>
          Real Revenue Lift.
        </h1>
        <p class="hero-subtitle">
          Customer‑first airline retailing—dynamic<br>
          offers, simplified orders, and payments that<br>
          don't get in the way.
        </p>
        <div class="hero-cta">
          <a href="mailto:sales@retailair.com" class="btn btn-primary">Book a Demo</a>
          <a href="/solutions" class="btn btn-secondary">See Solutions</a>
        </div>
      </div>
      <div class="hero-visual">
        <svg class="airplane-icon" width="400" height="400" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <style>
              .airplane-container {
                animation: drift 8s ease-in-out infinite;
                transform-box: fill-box;
                transform-origin: center;
              }

              .airplane-icon-inner {
                animation: rotate 60s ease-in-out infinite;
                transform-box: fill-box;
                transform-origin: center;
              }

              @keyframes drift {
                0%, 100% {
                  transform: translate(0, 0);
                }
                25% {
                  transform: translate(15px, -10px);
                }
                50% {
                  transform: translate(-10px, 10px);
                }
                75% {
                  transform: translate(10px, 15px);
                }
              }

              @keyframes rotate {
                0% {
                  transform: rotate(0deg) rotateX(0deg) rotateY(0deg);
                }
                7.5% {
                  transform: rotate(0deg) rotateX(-25deg) rotateY(0deg);
                }
                15% {
                  transform: rotate(0deg) rotateX(-30deg) rotateY(0deg);
                }
                22.5% {
                  transform: rotate(0deg) rotateX(0deg) rotateY(0deg);
                }
                27.5% {
                  transform: rotate(0deg) rotateX(0deg) rotateY(0deg);
                }
                32.5% {
                  transform: rotate(-8deg) rotateX(0deg) rotateY(4deg);
                }
                37.5% {
                  transform: rotate(0deg) rotateX(0deg) rotateY(0deg);
                }
                42.5% {
                  transform: rotate(0deg) rotateX(6deg) rotateY(0deg);
                }
                47.5% {
                  transform: rotate(0deg) rotateX(8deg) rotateY(0deg);
                }
                50% {
                  transform: rotate(0deg) rotateX(0deg) rotateY(0deg);
                }
                55% {
                  transform: rotate(0deg) rotateX(-5deg) rotateY(0deg);
                }
                60% {
                  transform: rotate(15deg) rotateX(-8deg) rotateY(-15deg);
                }
                70% {
                  transform: rotate(35deg) rotateX(-10deg) rotateY(-25deg);
                }
                80% {
                  transform: rotate(30deg) rotateX(-8deg) rotateY(-20deg);
                }
                87.5% {
                  transform: rotate(10deg) rotateX(-3deg) rotateY(-5deg);
                }
                95% {
                  transform: rotate(0deg) rotateX(0deg) rotateY(0deg);
                }
                100% {
                  transform: rotate(0deg) rotateX(0deg) rotateY(0deg);
                }
              }

              .circle-bg {
                filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.2));
              }
            </style>
          </defs>

          <g class="airplane-container">
            <circle class="circle-bg" cx="200" cy="200" r="120" fill="#4a7a73" opacity="0.6"/>

            <g class="airplane-icon-inner" transform="translate(68, 72) scale(0.75)">
              <g transform="translate(0.000000,306.000000) scale(0.100000,-0.100000)">
                <path d="M2418 2326 c42 -21 67 -102 57 -179 -20 -142 -74 -228 -277 -433 l-158
                -161 77 -350 c70 -323 76 -355 65 -392 -30 -97 -167 -158 -259 -114 -28 13
                -63 58 -175 227 -78 116 -142 212 -143 214 -2 2 -42 -22 -89 -54 l-86 -57 0
                -127 0 -127 -59 -56 c-50 -47 -66 -57 -95 -57 -35 0 -38 4 -126 135 l-90 135
                -134 89 c-175 118 -178 126 -71 231 l56 55 125 3 125 4 54 81 55 81 -212 141
                c-237 157 -252 173 -245 261 6 88 90 184 161 184 17 0 184 -34 371 -75 l339
                -74 176 172 c186 183 243 223 362 253 65 16 154 12 196 -10z" fill="#FFFFFF"/>
              </g>
            </g>
          </g>
        </svg>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="stats-section">
    <div class="container">
      <div class="stats-grid">
        <div class="stat-item">
          <div class="stat-number">12 years</div>
          <div class="stat-label">Industry experience</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">5M+</div>
          <div class="stat-label">Orders processed</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">300+</div>
          <div class="stat-label">NDC-ready capabilities</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Why Retailaer Section -->
  <section class="section bg-white">
    <div class="container">
      <div class="section-header text-center">
        <h2>Why Retailaer?</h2>
        <p>Built for IATA NDC and ONE Order standards</p>
      </div>

      <ExpandableFeatureCards />
    </div>
  </section>

  <!-- How It Works Section -->
  <section class="section bg-teal how-it-works">
    <div class="container">
      <div class="section-header text-center">
        <h2 class="text-white">How it works</h2>
      </div>

      <div class="grid grid-cols-3">
        <!-- Step 1 -->
        <div class="card">
          <div class="card-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
            </svg>
          </div>
          <h3 class="card-title">Dynamic Offers</h3>
          <p class="card-text">Tailor offers to passengers in real-time for improved conversion rates</p>
        </div>

        <!-- Step 2 -->
        <div class="card">
          <div class="card-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
              <polyline points="14 2 14 8 20 8"/>
              <line x1="16" y1="13" x2="8" y2="13"/>
              <line x1="16" y1="17" x2="8" y2="17"/>
            </svg>
          </div>
          <h3 class="card-title">Order Simplification</h3>
          <p class="card-text">Simplify complex ancillary sales through a Recording process</p>
        </div>

        <!-- Step 3 -->
        <div class="card">
          <div class="card-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="1" y="4" width="22" height="16" rx="2" ry="2"/>
              <line x1="1" y1="10" x2="23" y2="10"/>
            </svg>
          </div>
          <h3 class="card-title">Payments</h3>
          <p class="card-text">Whether simple or complex, we handle your payment needs end-to-end</p>
        </div>
      </div>

      <div class="text-center" style="margin-top: 3rem;">
        <a href="/insights" class="view-all-link">View all Insights →</a>
      </div>
    </div>
  </section>

  <!-- Latest Insights Section -->
  <section class="section bg-gray">
    <div class="container">
      <div class="section-header">
        <div style="display: flex; justify-content: space-between; align-items: center;">
          <h2>Latest Insights</h2>
          <a href="/blog/manage" class="view-all-link">Manage Insights →</a>
        </div>
      </div>

      <InsightsCarousel
        insights={insights}
        autoRotateInterval={15000}
        visibleCount={3}
      />
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="container">
      <div class="cta-content">
        <h2 class="text-white">Ready to transform your airline retail?</h2>
        <p class="text-white">Join leading airlines worldwide using Retailaer to modernize their offer and order management.</p>
        <div class="cta-buttons">
          <a href="mailto:sales@retailair.com" class="btn btn-primary">Book a Demo</a>
          <a href="/contact" class="btn btn-secondary">Get In Touch</a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
